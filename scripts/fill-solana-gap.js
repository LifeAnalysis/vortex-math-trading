#!/usr/bin/env node

/**
 * Fill the missing data gap in Solana dataset from June 25, 2022 to January 1, 2025
 * Adds 921 missing data points to create comprehensive coverage
 */

const fs = require('fs');
const path = require('path');

// Read the existing Solana data
const dataPath = path.join(__dirname, '..', 'src', 'data', 'sol-historical-data.json');
const existingData = JSON.parse(fs.readFileSync(dataPath, 'utf8'));

console.log('üîç Analyzing current Solana data gap...');
console.log(`Current data: ${existingData.prices.length} data points`);

// Find the gap
const prices = existingData.prices;
for (let i = 1; i < prices.length; i++) {
  const prevTime = prices[i-1][0];
  const currTime = prices[i][0];
  const daysDiff = (currTime - prevTime) / (1000 * 60 * 60 * 24);
  
  if (daysDiff > 30) {
    console.log(`Gap found: ${new Date(prevTime).toISOString().split('T')[0]} to ${new Date(currTime).toISOString().split('T')[0]} (${Math.round(daysDiff)} days)`);
    
    // Insert the missing data points from CoinGecko MCP
    const missingData = [
      [1656115200000, 42.477220280035226],
      [1656201600000, 42.386373142046885],
      [1656288000000, 39.498441762282916],
      [1656374400000, 38.50106935796682],
      [1656460800000, 35.326033591585926],
      [1656547200000, 33.91501146159494],
      [1656633600000, 33.31459552878431],
      [1656720000000, 33.03847781026744],
      [1656806400000, 33.42207503046209],
      [1656892800000, 33.44782701859301],
      [1656979200000, 36.77949394045729],
      [1657065600000, 35.32196887460825],
      [1657152000000, 37.09265792987144],
      [1657238400000, 38.546664352464504],
      [1657324800000, 38.594429443195615],
      [1657411200000, 38.06013313228005],
      [1657497600000, 36.72673590110457],
      [1657584000000, 33.50915025006571],
      [1657670400000, 32.81893154431144],
      [1657756800000, 34.94649867641145],
      [1657843200000, 37.17597728466076],
      [1657929600000, 37.44045111321192],
      [1658016000000, 39.60146830743091],
      [1658102400000, 38.62422664809307],
      [1658188800000, 43.68127821391667],
      [1658275200000, 44.92662577061741],
      [1658361600000, 42.19129439126226],
      [1658448000000, 43.18589352726285],
      [1658534400000, 40.57509235571396],
      [1658620800000, 40.12586568362252],
      [1658707200000, 40.98522629187172],
      [1658793600000, 36.70021199705349],
      [1658880000000, 36.2281816493087],
      [1658966400000, 40.29544931385727],
      [1659052800000, 42.831212766381604],
      [1659139200000, 42.13988872458668],
      [1659225600000, 43.80347390626749],
      [1659312000000, 42.48000309195332],
      [1659398400000, 41.70142770548663],
      [1659484800000, 40.21202813817764],
      [1659571200000, 38.634063074873644],
      [1659657600000, 38.94463727964988],
      [1659744000000, 40.496917469507096],
      [1659830400000, 40.17551021431985],
      [1659916800000, 40.646219845232366],
      [1660003200000, 42.156823142394586],
      [1660089600000, 40.49015736455393],
      [1660176000000, 42.295780396654315],
      [1660262400000, 42.75287041576665],
      [1660348800000, 45.34052505434913],
      [1660435200000, 46.62762818566225],
      [1660521600000, 44.97769928373126],
      [1660608000000, 43.902581229420576],
      [1660694400000, 43.25208387360771],
      [1660780800000, 40.5562855378095],
      [1660867200000, 39.618894866249],
      [1660953600000, 35.98979542858258],
      [1661040000000, 35.23183017005089],
      [1661126400000, 36.53272408478192],
      [1661212800000, 35.48979518227352],
      [1661299200000, 35.705064719424506],
      [1661385600000, 34.98161284031775],
      [1661472000000, 35.34736653928148],
      [1661558400000, 31.78642232940313],
      [1661644800000, 31.639231915430067],
      [1661731200000, 30.630708245633155],
      [1661817600000, 32.4676226051912],
      [1661904000000, 31.460462070253442],
      [1661990400000, 31.453501865317026],
      [1662076800000, 31.62752044554708],
      [1662163200000, 31.196467701402543],
      [1662249600000, 31.076260104837697],
      [1662336000000, 32.14492440492364],
      [1662422400000, 32.21580982933859],
      [1662508800000, 30.932571057846985],
      [1662595200000, 32.75240078147267],
      [1662681600000, 33.60651304711081],
      [1662768000000, 34.707446929384965],
      [1662854400000, 35.15110408808845],
      [1662940800000, 34.90471667494537],
      [1663027200000, 37.344616214599014],
      [1663113600000, 33.05973266575832],
      [1663200000000, 34.071010519185705],
      [1663286400000, 33.064248381166855],
      [1663372800000, 32.18223307870709],
      [1663459200000, 33.76184563714559],
      [1663545600000, 31.08875046830983],
      [1663632000000, 32.71343099163381],
      [1663718400000, 31.405493503670975],
      [1663804800000, 30.825149460297027],
      [1663891200000, 32.46791740152261],
      [1663977600000, 33.71195119466151],
      [1664064000000, 33.5038789488122],
      [1664150400000, 32.32786924066603],
      [1664236800000, 33.85239531271168],
      [1664323200000, 32.76612155979491],
      [1664409600000, 33.303299964397056],
      [1664496000000, 33.93599567295436],
      [1664582400000, 33.24966351604033],
      [1664668800000, 32.45579081734204],
      [1664755200000, 32.09702548893108],
      [1664841600000, 32.9839333048039],
      [1664928000000, 34.12979146381925],
      [1665014400000, 34.09322257643218],
      [1665100800000, 33.33775389191098],
      [1665187200000, 32.91839237624644],
      [1665273600000, 32.60000089346164],
      [1665360000000, 32.90519327468117],
      [1665446400000, 31.96971297778321],
      [1665532800000, 30.78828821701152],
      [1665619200000, 31.141224150324152],
      [1665705600000, 30.58269363666032],
      [1665792000000, 30.03589921524538],
      [1665878400000, 29.576743642363166],
      [1665964800000, 30.166911022944717],
      [1666051200000, 31.244752367609617],
      [1666137600000, 30.20117255023985],
      [1666224000000, 28.896837887443453],
      [1666310400000, 28.066217683059563],
      [1666396800000, 28.106224235014817],
      [1666483200000, 28.023343879724933],
      [1666569600000, 29.236688692602588],
      [1666656000000, 28.27000912814364],
      [1666742400000, 30.94126246793174],
      [1666828800000, 31.282585848386002],
      [1666915200000, 30.645340017734377],
      [1667001600000, 32.11387302905561],
      [1667088000000, 32.83944699956292],
      [1667174400000, 32.90718815746148],
      [1667260800000, 32.601269385086546],
      [1667347200000, 32.241011165572196],
      [1667433600000, 30.788368557204965],
      [1667520000000, 30.826600438059216],
      [1667606400000, 33.78843206020886],
      [1667692800000, 36.718402105659706],
      [1667779200000, 32.77319825330046],
      [1667865600000, 29.549317195242182],
      [1667952000000, 24.228110657252586],
      [1668038400000, 14.004070064665834],
      [1668124800000, 17.835598021542133],
      [1668211200000, 16.62539193943823],
      [1668297600000, 14.705480178123391],
      [1668384000000, 13.252557222481085],
      [1668470400000, 14.096615435025512],
      [1668556800000, 14.355239175466979],
      [1668643200000, 14.355619333262617],
      [1668729600000, 13.6648684030464],
      [1668816000000, 13.297631137033255],
      [1668902400000, 12.884681620446196],
      [1668988800000, 12.34545378191367],
      [1669075200000, 11.918134100426501],
      [1669161600000, 12.43518958219904],
      [1669248000000, 14.41547582162108],
      [1669334400000, 14.592503903295015],
      [1669420800000, 14.075605372227663],
      [1669507200000, 14.165189223351776],
      [1669593600000, 14.106428306970507],
      [1669680000000, 13.343102977299333],
      [1669766400000, 13.374085329507322],
      [1669852800000, 14.147104839194206],
      [1669939200000, 13.509181414049966],
      [1670025600000, 13.765463207102767],
      [1670112000000, 13.334397065233695],
      [1670198400000, 13.77680995818705],
      [1670284800000, 13.873608444994208],
      [1670371200000, 14.297707876898496],
      [1670457600000, 13.536826034301907],
      [1670544000000, 13.693154351693547],
      [1670630400000, 13.612942245486757],
      [1670716800000, 13.585881060448473],
      [1670803200000, 13.43947528747435],
      [1670889600000, 13.323956780887805],
      [1670976000000, 13.828059313467737],
      [1671062400000, 14.149132608950133],
      [1671148800000, 13.99445500184834],
      [1671235200000, 12.272262832879411],
      [1671321600000, 12.525815065018055],
      [1671408000000, 12.416580463138258],
      [1671494400000, 11.935662354331416],
      [1671580800000, 12.280549822837152],
      [1671667200000, 12.119428779139206],
      [1671753600000, 11.794712289114807],
      [1671840000000, 11.800554937016997],
      [1671926400000, 11.470319693968511],
      [1672012800000, 11.400966653702737],
      [1672099200000, 11.301306466517868],
      [1672185600000, 11.080348903525167],
      [1672272000000, 9.770824845767208],
      [1672358400000, 9.597795220448539],
      [1672444800000, 9.888231243760044],
      [1672531200000, 9.961462943297743],
      [1672617600000, 9.973949402565085],
      [1672704000000, 11.266377430112355],
      [1672790400000, 13.35539239265287],
      [1672876800000, 13.456292702243212],
      [1672963200000, 13.4384801751579],
      [1673049600000, 13.52449342211224],
      [1673136000000, 13.088904148424348],
      [1673222400000, 14.366071146091024],
      [1673308800000, 16.302299779948743],
      [1673395200000, 16.203193608411635],
      [1673481600000, 16.463404027248835],
      [1673568000000, 16.615747688335087],
      [1673654400000, 18.279734593696567],
      [1673740800000, 24.302862020252288],
      [1673827200000, 22.837523286781188],
      [1673913600000, 23.58595194500377],
      [1674000000000, 22.88158744195828],
      [1674086400000, 20.85763434507722],
      [1674172800000, 21.414560030848286],
      [1674259200000, 25.575834872318875],
      [1674345600000, 24.66528659481628],
      [1674432000000, 24.271834895555187],
      [1674518400000, 24.42662802224712],
      [1674604800000, 22.789340075999174],
      [1674691200000, 24.66040314512689],
      [1674777600000, 24.36322901881959],
      [1674864000000, 24.413747574727985],
      [1674950400000, 23.986175814200923],
      [1675036800000, 26.177676356517786],
      [1675123200000, 23.963335339722715],
      [1675209600000, 23.961391317370346],
      [1675296000000, 24.983305840269857],
      [1675382400000, 24.31948995599126],
      [1675468800000, 24.68649699930336],
      [1675555200000, 24.352020663436914],
      [1675641600000, 23.513631913468004],
      [1675728000000, 22.716952472159907],
      [1675814400000, 23.90420986102095],
      [1675900800000, 23.20655514024452],
      [1675987200000, 20.437682981228342],
      [1676073600000, 20.123843926968277],
      [1676160000000, 20.84493733301781],
      [1676246400000, 21.44076791086341],
      [1676332800000, 20.784744709901553],
      [1676419200000, 21.845218317851522],
      [1676505600000, 23.889195936602945],
      [1676592000000, 22.34460084623935],
      [1676678400000, 23.193970760954844],
      [1676764800000, 23.45134176118436],
      [1676851200000, 24.810534025961243],
      [1676937600000, 26.03500765229307],
      [1677024000000, 24.92100975933338],
      [1677110400000, 24.17008033584799],
      [1677196800000, 23.92438702728231],
      [1677283200000, 23.05835270436486],
      [1677369600000, 22.410354409005556],
      [1677456000000, 23.2309130687567],
      [1677542400000, 22.693578143913324],
      [1677628800000, 21.915750684020768],
      [1677715200000, 22.505797650327754],
      [1677801600000, 21.97401655702821],
      [1677888000000, 21.406769225209032],
      [1677974400000, 20.955534666423198],
      [1678060800000, 21.002570684743905],
      [1678147200000, 20.630964332653576],
      [1678233600000, 20.272742155068944],
      [1678320000000, 18.427916426509864],
      [1678406400000, 17.333062116446644],
      [1678492800000, 18.212698187615544],
      [1678579200000, 18.068481612784193],
      [1678665600000, 20.33815687662464],
      [1678752000000, 20.37708065182474],
      [1678838400000, 20.979934755407683],
      [1678924800000, 19.336400031117087],
      [1679011200000, 19.83281185840033],
      [1679097600000, 21.644627640065494],
      [1679184000000, 21.3174625685989],
      [1679270400000, 22.022111232219224],
      [1679356800000, 22.322024083945994],
      [1679443200000, 22.74020634944038],
      [1679529600000, 21.578068068860432],
      [1679616000000, 22.306155317675998],
      [1679702400000, 20.77377095038958],
      [1679788800000, 20.593698856407208],
      [1679875200000, 20.982289382374262],
      [1679961600000, 19.9575402149083],
      [1680048000000, 20.499340517704876],
      [1680134400000, 21.13233391276909],
      [1680220800000, 20.574404775975303],
      [1680307200000, 21.205401851519337],
      [1680393600000, 21.083500216310668],
      [1680480000000, 20.565439368841062],
      [1680566400000, 20.436690295056867],
      [1680652800000, 20.92110064061127],
      [1680739200000, 20.982374355205106],
      [1680825600000, 20.609002527101183],
      [1680912000000, 20.483785300410602],
      [1680998400000, 20.042581304598304],
      [1681084800000, 20.30433669084828],
      [1681171200000, 20.875123146348265],
      [1681257600000, 23.005654690114106],
      [1681344000000, 23.830532666421693],
      [1681430400000, 24.42771024521707],
      [1681516800000, 24.77371399717611],
      [1681603200000, 24.076086968961334],
      [1681689600000, 25.295764682293626],
      [1681776000000, 24.582472271741043],
      [1681862400000, 24.828831956308186],
      [1681948800000, 22.66921834829298],
      [1682035200000, 22.17878507364592],
      [1682121600000, 21.256329975789992],
      [1682208000000, 21.85149833032492],
      [1682294400000, 21.49927294670662],
      [1682380800000, 21.388123623341926],
      [1682467200000, 21.93961247225034],
      [1682553600000, 21.25624752923348],
      [1682640000000, 22.337864023679735],
      [1682726400000, 23.374818189016118],
      [1682812800000, 23.12840167422879],
      [1682899200000, 22.998321615708303],
      [1682985600000, 22.00748575266789],
      [1683072000000, 22.262824662378538],
      [1683158400000, 22.21964186016809],
      [1683244800000, 21.741800973800856],
      [1683331200000, 22.81860623219127],
      [1683417600000, 21.986706406341238],
      [1683504000000, 22.002452285817817],
      [1683590400000, 20.65668464098513],
      [1683676800000, 20.656981167558687],
      [1683763200000, 20.975704627626367],
      [1683849600000, 20.25440267119237],
      [1683936000000, 20.920162303818756],
      [1684022400000, 20.899582667518416],
      [1684108800000, 20.936961536705592],
      [1684195200000, 21.037748291765592],
      [1684281600000, 20.686212717829434],
      [1684368000000, 21.058205359893172],
      [1684454400000, 20.34519578780548],
      [1684540800000, 20.351526847180452],
      [1684627200000, 20.269684813481774],
      [1684713600000, 19.630800782887565],
      [1684800000000, 19.558762789709252],
      [1684886400000, 20.04690938871374],
      [1684972800000, 19.214323127332815],
      [1685059200000, 19.25614469626469],
      [1685145600000, 19.36699951306376],
      [1685232000000, 20.405231600621736],
      [1685318400000, 20.815122816700484],
      [1685404800000, 20.57365784393182],
      [1685491200000, 21.24838739611184],
      [1685577600000, 20.82042686685682],
      [1685664000000, 20.512888560566594],
      [1685750400000, 21.257126169627412],
      [1685836800000, 21.148206267732874],
      [1685923200000, 21.869750120036684],
      [1686009600000, 20.082497255511015],
      [1686096000000, 20.399316366367188],
      [1686182400000, 18.64940911323256],
      [1686268800000, 18.91886786249937],
      [1686355200000, 17.319852048307002],
      [1686441600000, 15.712291030595962],
      [1686528000000, 15.552165715300829],
      [1686614400000, 15.219121441698295],
      [1686700800000, 14.996084137168715],
      [1686787200000, 14.511891316589251],
      [1686873600000, 14.741774826096673],
      [1686960000000, 15.305652843805758],
      [1687046400000, 15.626354272653252],
      [1687132800000, 15.434485233897272],
      [1687219200000, 16.038762253116875],
      [1687305600000, 16.625143403026637],
      [1687392000000, 17.263202092310653],
      [1687478400000, 16.645392580230443],
      [1687564800000, 17.100927585909893],
      [1687651200000, 16.63062758389679],
      [1687737600000, 16.96011970924781],
      [1687824000000, 16.284012804480415],
      [1687910400000, 16.60408750457774],
      [1687996800000, 15.996424735598712],
      [1688083200000, 17.998439800632905],
      [1688169600000, 18.93035984897103],
      [1688256000000, 18.612769704794168],
      [1688342400000, 19.44673332510388],
      [1688428800000, 19.20521438307814],
      [1688515200000, 19.218958872995298],
      [1688601600000, 18.972151107472232],
      [1688688000000, 19.919047781939852],
      [1688774400000, 21.43877643006556],
      [1688860800000, 21.896701111607186],
      [1688947200000, 21.351397376477994],
      [1689033600000, 21.302647128052204],
      [1689120000000, 22.068233989934726],
      [1689206400000, 21.997627799970363],
      [1689292800000, 25.990368470421153],
      [1689379200000, 26.708371434451514],
      [1689465600000, 27.351375942539022],
      [1689552000000, 27.365079998210923],
      [1689638400000, 26.861798043195297],
      [1689724800000, 25.526176388954614],
      [1689811200000, 26.353311684653363],
      [1689897600000, 25.3350693194684],
      [1689984000000, 25.58950999514426],
      [1690070400000, 24.45678468463933],
      [1690156800000, 24.773703505475776],
      [1690243200000, 23.422633571179617],
      [1690329600000, 23.267716629540782],
      [1690416000000, 25.1519878372353],
      [1690502400000, 25.093488053679394],
      [1690588800000, 24.825803970620775],
      [1690675200000, 25.16504796989767],
      [1690761600000, 24.266784359176683],
      [1690848000000, 23.75665877952372],
      [1690934400000, 23.92554655853081],
      [1691020800000, 23.134812664080517],
      [1691107200000, 22.654451935469393],
      [1691193600000, 22.809920321126338],
      [1691280000000, 22.62509186558245],
      [1691366400000, 23.16031151415157],
      [1691452800000, 23.05200017950495],
      [1691539200000, 24.203816824917432],
      [1691625600000, 24.384610250755937],
      [1691712000000, 24.61887321060917],
      [1691798400000, 24.57980986376842],
      [1691884800000, 24.891819066984105],
      [1691971200000, 24.223294007901522],
      [1692057600000, 25.14772487652887],
      [1692144000000, 23.875641318375827],
      [1692230400000, 22.846367700285874],
      [1692316800000, 21.646961802699884],
      [1692403200000, 21.330196240480664],
      [1692489600000, 21.878330239316607],
      [1692576000000, 21.747537100837746],
      [1692662400000, 21.20210914644501],
      [1692748800000, 20.55389205635584],
      [1692835200000, 21.672558527450196],
      [1692921600000, 21.02615201908747],
      [1693008000000, 20.392834533596297],
      [1693094400000, 20.27381527104058],
      [1693180800000, 20.781187138711672],
      [1693267200000, 20.562540137575354],
      [1693353600000, 21.756889820182593],
      [1693440000000, 20.840938892992455],
      [1693526400000, 19.73118602186944],
      [1693612800000, 19.339387541129707],
      [1693699200000, 19.46854293968664],
      [1693785600000, 19.57639006334943],
      [1693872000000, 19.491905828235154],
      [1693958400000, 20.270462383722805],
      [1694044800000, 19.625034431663497],
      [1694131200000, 19.887886504760793],
      [1694217600000, 19.59598499714458],
      [1694304000000, 19.440479779530477],
      [1694390400000, 18.241559982955604],
      [1694476800000, 17.705129864271623],
      [1694563200000, 17.94444618355289],
      [1694649600000, 18.403573351427394],
      [1694736000000, 18.829900592345915],
      [1694822400000, 19.17312182700796],
      [1694908800000, 19.126902793634855],
      [1694995200000, 18.803112818374224],
      [1695081600000, 19.64014703071697],
      [1695168000000, 20.04209873431388],
      [1695254400000, 20.287247895504184],
      [1695340800000, 19.470117691401224],
      [1695427200000, 19.437726515592722],
      [1695513600000, 19.47116415036064],
      [1695600000000, 19.351752066049695],
      [1695686400000, 19.394881050820743],
      [1695772800000, 19.01708701773738],
      [1695859200000, 19.12786529422154],
      [1695945600000, 19.94620329719107],
      [1696032000000, 20.294161364007895],
      [1696118400000, 21.387052432956956],
      [1696204800000, 23.88149631052896],
      [1696291200000, 23.40994675528492],
      [1696377600000, 23.546636568867523],
      [1696464000000, 23.14279023721254],
      [1696550400000, 22.719916973389385],
      [1696636800000, 23.43163795467068],
      [1696723200000, 23.293820293560618],
      [1696809600000, 23.24916669447795],
      [1696896000000, 22.11144636191878],
      [1696982400000, 22.10708097425926],
      [1697068800000, 21.96097231022005],
      [1697155200000, 21.26544011226295],
      [1697241600000, 21.826473760164795],
      [1697328000000, 22.00456614346382],
      [1697414400000, 21.916231700248684],
      [1697500800000, 23.981381940492962],
      [1697587200000, 23.971056117737877],
      [1697673600000, 23.434057784969053],
      [1697760000000, 24.942676655920565],
      [1697846400000, 27.034557905425466],
      [1697932800000, 29.355573342373983],
      [1698019200000, 29.02138704288216],
      [1698105600000, 31.736583271682292],
      [1698192000000, 30.133994925651603],
      [1698278400000, 32.405323087903845],
      [1698364800000, 32.71431713179988],
      [1698451200000, 31.765434430978374],
      [1698537600000, 31.646807666480882],
      [1698624000000, 32.81601052032671],
      [1698710400000, 34.95699301421437],
      [1698796800000, 38.48164730744764],
      [1698883200000, 41.41420827516142],
      [1698969600000, 40.146033594069166],
      [1699056000000, 39.51759751315692],
      [1699142400000, 42.247239673022534],
      [1699228800000, 41.24303597170582],
      [1699315200000, 42.093540748889566],
      [1699401600000, 43.10992040160473],
      [1699488000000, 43.24925747868605],
      [1699574400000, 45.358054333499396],
      [1699660800000, 56.672751743013606],
      [1699747200000, 56.46969150990378],
      [1699833600000, 55.96301542172404],
      [1699920000000, 52.21016126845803],
      [1700006400000, 56.84724399563444],
      [1700092800000, 65.42118249740835],
      [1700179200000, 57.85936549623421],
      [1700265600000, 58.08749906248073],
      [1700352000000, 58.43785104837524],
      [1700438400000, 61.4682208972665],
      [1700524800000, 56.387561224796215],
      [1700611200000, 52.03847144243665],
      [1700697600000, 57.63985489059395],
      [1700784000000, 56.6256819382833],
      [1700870400000, 56.87305815164875],
      [1700956800000, 58.81319665255164],
      [1701043200000, 57.65563041451083],
      [1701129600000, 55.12228632634998],
      [1701216000000, 58.21650838026634],
      [1701302400000, 59.132384073791634],
      [1701388800000, 59.17998717985522],
      [1701475200000, 59.82358486245393],
      [1701561600000, 63.54188841925499],
      [1701648000000, 63.0169956421846],
      [1701734400000, 61.55125929559973],
      [1701820800000, 60.9025608945616],
      [1701907200000, 62.23204453296526],
      [1701993600000, 67.69386460535054],
      [1702080000000, 74.84216401576747],
      [1702166400000, 72.42222406518073],
      [1702252800000, 74.42357981310117],
      [1702339200000, 70.20241559474354],
      [1702425600000, 68.52923871075102],
      [1702512000000, 70.73839652886984],
      [1702598400000, 75.65588800857071],
      [1702684800000, 72.61814382762158],
      [1702771200000, 73.3895965701486],
      [1702857600000, 71.09304612532529],
      [1702944000000, 74.34092711768113],
      [1703030400000, 72.61144991141754],
      [1703116800000, 82.09852590231738],
      [1703203200000, 93.93807648899407],
      [1703289600000, 98.07800224122698],
      [1703376000000, 107.63981717421447],
      [1703462400000, 112.44835843501905],
      [1703548800000, 121.44659325631167],
      [1703635200000, 112.32551605046484],
      [1703721600000, 106.97705414292456],
      [1703808000000, 102.25382476175545],
      [1703894400000, 106.25256071597002],
      [1703980800000, 101.98883539812843],
      [1704067200000, 101.33317837845607],
      [1704153600000, 109.44408162860023],
      [1704240000000, 106.66317351273963],
      [1704326400000, 98.618625629318],
      [1704412800000, 104.8407815170403],
      [1704499200000, 99.79527781452578],
      [1704585600000, 93.67595830573333],
      [1704672000000, 88.92454619256625],
      [1704758400000, 97.65874169169724],
      [1704844800000, 98.7515137293353],
      [1704931200000, 102.41348181114401],
      [1705017600000, 99.98590880200555],
      [1705104000000, 91.49974928746796],
      [1705190400000, 95.63334726603965],
      [1705276800000, 94.11863591050141],
      [1705363200000, 94.39674016420685],
      [1705449600000, 97.55676426862223],
      [1705536000000, 101.50125957317499],
      [1705622400000, 94.28013186654485],
      [1705708800000, 93.32520105608964],
      [1705795200000, 92.58976400255906],
      [1705881600000, 91.1623559089012],
      [1705968000000, 83.43623260957541],
      [1706054400000, 84.09771204633358],
      [1706140800000, 88.97403797468365],
      [1706227200000, 86.98335038241241],
      [1706313600000, 92.36475145633213],
      [1706400000000, 94.07418620571138],
      [1706486400000, 95.96656618849008],
      [1706572800000, 101.41999625662424],
      [1706659200000, 101.49112290376424],
      [1706745600000, 96.93179951000184],
      [1706832000000, 97.79003124090778],
      [1706918400000, 100.46548063117393],
      [1707004800000, 97.76713809513306],
      [1707091200000, 95.47210966234701],
      [1707177600000, 95.66801933804179],
      [1707264000000, 96.91999534970711],
      [1707350400000, 100.8620197849941],
      [1707436800000, 102.90366855652807],
      [1707523200000, 107.0340359221691],
      [1707609600000, 108.9914614336289],
      [1707696000000, 107.42381253614128],
      [1707782400000, 112.03681818642013],
      [1707868800000, 112.5991116485891],
      [1707955200000, 116.97610655690055],
      [1708041600000, 113.5993942511846],
      [1708128000000, 110.50155056850862],
      [1708214400000, 108.92851023151393],
      [1708300800000, 112.21541634982898],
      [1708387200000, 111.27808859030418],
      [1708473600000, 108.56412084328196],
      [1708560000000, 105.34263381767492],
      [1708646400000, 102.0417796526056],
      [1708732800000, 100.09194937035414],
      [1708819200000, 104.18872590266118],
      [1708905600000, 103.4386239643384],
      [1708992000000, 109.84509740259054],
      [1709078400000, 108.17696263039223],
      [1709164800000, 117.43028413751361],
      [1709251200000, 125.6818167628113],
      [1709337600000, 130.0470586239426],
      [1709424000000, 129.8816532496919],
      [1709510400000, 130.30611971907615],
      [1709596800000, 133.32371555063142],
      [1709683200000, 126.39112339694104],
      [1709769600000, 130.66706419099268],
      [1709856000000, 144.10503256536765],
      [1709942400000, 145.19146101509426],
      [1710028800000, 144.81714849291387],
      [1710115200000, 144.25771555596154],
      [1710201600000, 148.79327935268395],
      [1710288000000, 150.72986927133826],
      [1710374400000, 163.62579653208232],
      [1710460800000, 176.2229997396476],
      [1710547200000, 183.9242834890865],
      [1710633600000, 180.80173842188316],
      [1710720000000, 202.51891185720268],
      [1710806400000, 196.34529342439117],
      [1710892800000, 169.59755629640884],
      [1710979200000, 191.44187811368815],
      [1711065600000, 179.5544644084378],
      [1711152000000, 173.45563634427955],
      [1711238400000, 173.4537726410555],
      [1711324800000, 184.02186416380982],
      [1711411200000, 188.99685465903278],
      [1711497600000, 191.23614507446956],
      [1711584000000, 186.13894375748401],
      [1711670400000, 189.5749906128262],
      [1711756800000, 192.02726585672397],
      [1711843200000, 194.48104356471714],
      [1711929600000, 202.81432536234064],
      [1712016000000, 192.7252498952993],
      [1712102400000, 181.44094341124986],
      [1712188800000, 185.51116280992997],
      [1712275200000, 183.82146316534414],
      [1712361600000, 175.16816341233152],
      [1712448000000, 178.95970355653492],
      [1712534400000, 179.58218749799138],
      [1712620800000, 180.64287344561157],
      [1712707200000, 172.5466374234224],
      [1712793600000, 173.12196064411097],
      [1712880000000, 172.69615902223114],
      [1712966400000, 153.7682811535538],
      [1713052800000, 140.18115063206616],
      [1713139200000, 151.54672238984352],
      [1713225600000, 138.41384909362205],
      [1713312000000, 136.41604917198546],
      [1713398400000, 132.5311508262506],
      [1713484800000, 142.1317166813474],
      [1713571200000, 143.2449662842533],
      [1713657600000, 150.5170929398806],
      [1713744000000, 148.74146308419816],
      [1713830400000, 156.9921721394195],
      [1713916800000, 154.69385774418163],
      [1714003200000, 147.74509318899663],
      [1714089600000, 144.98792922284767],
      [1714176000000, 139.2590067356682],
      [1714262400000, 141.58180881704862],
      [1714348800000, 137.71788471179437],
      [1714435200000, 137.6714796361837],
      [1714521600000, 127.0390830996602],
      [1714608000000, 134.753621251331],
      [1714694400000, 137.9156486710101],
      [1714780800000, 143.5498729974885],
      [1714867200000, 146.11104319236458],
      [1714953600000, 145.68571274466362],
      [1715040000000, 152.65486339652605],
      [1715126400000, 148.18697723966497],
      [1715212800000, 142.5160197700434],
      [1715299200000, 152.72554705807713],
      [1715385600000, 146.3104978769931],
      [1715472000000, 145.3083544018294],
      [1715558400000, 143.58731571295039],
      [1715644800000, 147.14466221396205],
      [1715731200000, 142.0844864886782],
      [1715817600000, 158.01312798977025],
      [1715904000000, 159.14533854574205],
      [1715990400000, 169.49970700636922],
      [1716076800000, 172.45083937260318],
      [1716163200000, 170.0673475386705],
      [1716249600000, 186.3249227218175],
      [1716336000000, 178.1744919321701],
      [1716422400000, 176.86884758403767],
      [1716508800000, 176.0640591935767],
      [1716595200000, 167.76687801061138],
      [1716681600000, 168.3697915144665],
      [1716768000000, 163.35859974681],
      [1716854400000, 169.81442537506513],
      [1716940800000, 168.75055773108363],
      [1717027200000, 168.13546936257387],
      [1717113600000, 167.014473333231],
      [1717200000000, 165.91353028162595],
      [1717286400000, 165.9632350083908],
      [1717372800000, 163.11854094832748],
      [1717459200000, 164.81254949676975],
      [1717545600000, 171.7281286123733],
      [1717632000000, 173.76957145050255],
      [1717718400000, 170.37271994953753],
      [1717804800000, 162.4532049787127],
      [1717891200000, 158.1807505205203],
      [1717977600000, 162.063709361357],
      [1718064000000, 158.8863716164394],
      [1718150400000, 149.30184393721757],
      [1718236800000, 154.85704243492725],
      [1718323200000, 147.23468433017004],
      [1718409600000, 143.0214313059618],
      [1718496000000, 145.28190108402654],
      [1718582400000, 150.65560322695782],
      [1718668800000, 143.201979419663],
      [1718755200000, 137.4629937319601],
      [1718841600000, 135.40309403154043],
      [1718928000000, 133.44256940911677],
      [1719014400000, 134.51329489326994],
      [1719100800000, 133.48608472760722],
      [1719187200000, 128.54028172949205],
      [1719273600000, 132.3377865818776],
      [1719360000000, 136.51374501335556],
      [1719446400000, 136.4415134350111],
      [1719532800000, 149.23075419544415],
      [1719619200000, 139.72594706135848],
      [1719705600000, 139.86689852094338],
      [1719792000000, 146.42869641202853],
      [1719878400000, 146.34737782842973],
      [1719964800000, 153.63922449411186],
      [1720051200000, 140.7242009904032],
      [1720137600000, 127.93484525812943],
      [1720224000000, 134.41985405373308],
      [1720310400000, 143.1010931430681],
      [1720396800000, 131.85304400674195],
      [1720483200000, 139.3176879675135],
      [1720569600000, 141.45706675192378],
      [1720656000000, 141.92265716309768],
      [1720742400000, 136.0741315804191],
      [1720828800000, 139.36219270413474],
      [1720915200000, 141.6752437311082],
      [1721001600000, 147.95483971650256],
      [1721088000000, 159.92387112565993],
      [1721174400000, 160.78254302928178],
      [1721260800000, 155.40160618387858],
      [1721347200000, 159.01459142432648],
      [1721433600000, 169.216310530705],
      [1721520000000, 174.10164864661212],
      [1721606400000, 184.45124996312572],
      [1721692800000, 178.98087466888327],
      [1721779200000, 173.0332556528894],
      [1721865600000, 178.01893576386516],
      [1721952000000, 171.69638408630425],
      [1722038400000, 183.08447393423776],
      [1722124800000, 184.66861277323875],
      [1722211200000, 184.78835915686435],
      [1722297600000, 182.5435212575425],
      [1722384000000, 179.0391933974778],
      [1722470400000, 171.97399127813304],
      [1722556800000, 167.8878366549297],
      [1722643200000, 152.41068415516077],
      [1722729600000, 143.12748726015352],
      [1722816000000, 137.55503532710202],
      [1722902400000, 129.6977057929065],
      [1722988800000, 143.64341390089055],
      [1723075200000, 145.14244971442133],
      [1723161600000, 163.04650728359596],
      [1723248000000, 156.48102610362196],
      [1723334400000, 153.89246804945327],
      [1723420800000, 141.47128798826427],
      [1723507200000, 146.52219296049833],
      [1723593600000, 146.771846931375],
      [1723680000000, 143.8673185637519],
      [1723766400000, 142.88162536670714],
      [1723852800000, 139.1231866703018],
      [1723939200000, 141.68880938274887],
      [1724025600000, 142.46608358914975],
      [1724112000000, 144.57380160342618],
      [1724198400000, 142.51583020843475],
      [1724284800000, 142.5238693684667],
      [1724371200000, 143.25427944806466],
      [1724457600000, 152.928737509745],
      [1724544000000, 160.64024093840217],
      [1724630400000, 158.63304408954454],
      [1724716800000, 157.03937393616738],
      [1724803200000, 146.82431294389428],
      [1724889600000, 143.8331722816584],
      [1724976000000, 139.9259778169222],
      [1725062400000, 138.21975492529612],
      [1725148800000, 135.29968573537374],
      [1725235200000, 128.79106623891246],
      [1725321600000, 134.98461607964123],
      [1725408000000, 127.58277629667671],
      [1725494400000, 133.56817999646105],
      [1725580800000, 129.2737299893364],
      [1725667200000, 124.88794928540135],
      [1725753600000, 127.68773420349791],
      [1725840000000, 129.92115177962722],
      [1725926400000, 134.8794136936412],
      [1726012800000, 135.53520634032947],
      [1726099200000, 132.60279314846],
      [1726185600000, 136.20912396005608],
      [1726272000000, 138.97334178109747],
      [1726358400000, 137.18415865102773],
      [1726444800000, 131.62267074556308],
      [1726531200000, 131.52040183855297],
      [1726617600000, 131.52137869559544],
      [1726704000000, 133.61385947184837],
      [1726790400000, 142.68574337456613],
      [1726876800000, 146.47882774731306],
      [1726963200000, 149.6684323230078],
      [1727049600000, 144.8397327948964],
      [1727136000000, 144.88610360985587],
      [1727222400000, 152.88718767415355],
      [1727308800000, 148.1082936254362],
      [1727395200000, 155.466115622881],
      [1727481600000, 157.79795876913818],
      [1727568000000, 156.9590627676465],
      [1727654400000, 158.623421883811],
      [1727740800000, 152.54403421201002],
      [1727827200000, 145.20896405799175],
      [1727913600000, 140.44843275006326],
      [1728000000000, 136.65393647537826],
      [1728086400000, 143.16476802180077],
      [1728172800000, 142.74066530825795],
      [1728259200000, 146.3485360445286],
      [1728345600000, 144.21265658625913],
      [1728432000000, 143.4338504886754],
      [1728518400000, 139.32635039743118],
      [1728604800000, 138.76215517070165],
      [1728691200000, 145.3183432059626],
      [1728777600000, 146.58106227732287],
      [1728864000000, 147.49229086781492],
      [1728950400000, 157.3459292988939],
      [1729036800000, 154.62263332245095],
      [1729123200000, 154.2635899099486],
      [1729209600000, 150.27306080375143],
      [1729296000000, 155.0727514171131],
      [1729382400000, 159.59268197009004],
      [1729468800000, 166.573580832598],
      [1729555200000, 166.37603410566598],
      [1729641600000, 167.21134937308716],
      [1729728000000, 171.31390405727439],
      [1729814400000, 177.37306125678103],
      [1729900800000, 164.34475959360174],
      [1729987200000, 170.56035339294928],
      [1730073600000, 176.62596685410173],
      [1730160000000, 178.14045831001073],
      [1730246400000, 179.3686111316114],
      [1730332800000, 175.07910306095894],
      [1730419200000, 168.4025224117599],
      [1730505600000, 166.28821025376803],
      [1730592000000, 165.99502794396105],
      [1730678400000, 162.66791799614072],
      [1730764800000, 157.6072230849172],
      [1730851200000, 166.51143603878933],
      [1730937600000, 187.1685353309579],
      [1731024000000, 196.20253922973225],
      [1731110400000, 199.83336694253737],
      [1731196800000, 200.1685708629758],
      [1731283200000, 210.18784246643875],
      [1731369600000, 222.64379026281208],
      [1731456000000, 213.0672905358662],
      [1731542400000, 215.0830227659504],
      [1731628800000, 209.3680513303875],
      [1731715200000, 219.08569006216123],
      [1731801600000, 216.05467211977268],
      [1731888000000, 237.4665536612789],
      [1731974400000, 239.77742042710136],
      [1732060800000, 237.91328769126025],
      [1732147200000, 236.04012432804112],
      [1732233600000, 257.2507185771503],
      [1732320000000, 256.24790229652683],
      [1732406400000, 254.69897355925355],
      [1732492800000, 253.63893250552624],
      [1732579200000, 234.5375215535424],
      [1732665600000, 230.77914119497484],
      [1732752000000, 242.46678684660802],
      [1732838400000, 237.65273808614407],
      [1732924800000, 243.70089664594224],
      [1733011200000, 238.16347667858562],
      [1733097600000, 237.54718827599987],
      [1733184000000, 225.5283610124218],
      [1733270400000, 234.99258635351788],
      [1733356800000, 229.06669921453178],
      [1733443200000, 237.3008587229224],
      [1733529600000, 237.00646868253727],
      [1733616000000, 238.89329739813545],
      [1733702400000, 237.57854563045439],
      [1733788800000, 217.61737842270807],
      [1733875200000, 213.52687206332865],
      [1733961600000, 227.0731413756734],
      [1734048000000, 227.02574746034202],
      [1734134400000, 224.59546331682483],
      [1734220800000, 219.871836259502],
      [1734307200000, 224.53658892974883],
      [1734393600000, 216.51544960024825],
      [1734480000000, 222.74032965988914],
      [1734566400000, 205.36330239790396],
      [1734652800000, 194.9019815694289],
      [1734739200000, 194.12198450453806],
      [1734825600000, 181.0289078386085],
      [1734912000000, 180.15299381882627],
      [1734998400000, 189.84218617656558],
      [1735084800000, 197.50098597289022],
      [1735171200000, 197.3576592740719],
      [1735257600000, 188.14456627233477],
      [1735344000000, 183.74866385462855],
      [1735430400000, 194.8276511169169],
      [1735516800000, 189.9284130164687],
      [1735603200000, 190.70066508822853],
      [1735689600000, 189.45168366761857]
    ];
    
    // Insert the missing data at the correct position
    const newPrices = [...prices.slice(0, i), ...missingData, ...prices.slice(i)];
    
    console.log(`Inserting ${missingData.length} missing data points...`);
    
    // Update the data structure
    const updatedData = {
      ...existingData,
      metadata: {
        ...existingData.metadata,
        data_points: newPrices.length,
        note: `Complete Solana dataset from March 2021 through August 2025 - comprehensive coverage with ${newPrices.length} data points from CoinGecko MCP API. Gap filled from June 25, 2022 to January 1, 2025.`,
        gap_filled_at: new Date().toISOString(),
        gap_filled_info: `Added ${missingData.length} missing data points from June 25, 2022 to January 1, 2025 using CoinGecko MCP API`
      },
      prices: newPrices
    };
    
    // Write the updated data
    fs.writeFileSync(dataPath, JSON.stringify(updatedData, null, 2));
    
    console.log('‚úÖ Gap filling completed successfully!');
    console.log(`Final dataset: ${updatedData.prices.length} data points`);
    console.log(`Coverage: March 1, 2021 to August 11, 2025`);
    console.log(`First price: $${updatedData.prices[0][1].toFixed(2)}`);
    console.log(`Latest price: $${updatedData.prices[updatedData.prices.length-1][1].toFixed(2)}`);
    
    // Verify the gap is filled
    const verifyPrices = updatedData.prices;
    let maxGap = 0;
    for (let j = 1; j < verifyPrices.length; j++) {
      const gap = (verifyPrices[j][0] - verifyPrices[j-1][0]) / (1000 * 60 * 60 * 24);
      if (gap > maxGap) maxGap = gap;
    }
    console.log(`Largest remaining gap: ${Math.round(maxGap)} days`);
    
    break;
  }
}

if (!existingData.prices.some((p, i, arr) => i > 0 && (p[0] - arr[i-1][0]) / (1000 * 60 * 60 * 24) > 30)) {
  console.log('‚úÖ No significant gaps found in the data');
}
