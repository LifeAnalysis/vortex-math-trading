/**
 * Populate Solana data file with complete dataset
 */
const fs = require('fs');
const path = require('path');

// Full Solana price data from CoinGecko MCP (first 100 entries for demonstration)
const solanaPrices = [
    [1614556800000, 13.030769065831386],
    [1614643200000, 15.030085685643074],
    [1614729600000, 14.010086254280449],
    [1614816000000, 14.131003508942642],
    [1614902400000, 13.115024093723461],
    [1614988800000, 12.63107017877297],
    [1615075200000, 13.068095512982284],
    [1615161600000, 13.917187045269639],
    [1615248000000, 13.640225836910282],
    [1615334400000, 14.866607085296575],
    [1615420800000, 14.233539653620891],
    [1615507200000, 15.976571418630938],
    [1615593600000, 14.598623129754035],
    [1615680000000, 15.318478663846857],
    [1615766400000, 14.567314052136112],
    [1615852800000, 14.163365885178607],
    [1615939200000, 13.689313740219452],
    [1616025600000, 14.277756264275158],
    [1616112000000, 14.26867567597296],
    [1616198400000, 14.182866696542028],
    [1616284800000, 14.275804030345455],
    [1616371200000, 14.306229754951788],
    [1616457600000, 14.870337482227853],
    [1616544000000, 14.194567786228824],
    [1616630400000, 13.60393816401807],
    [1616716800000, 12.964522758314372],
    [1616803200000, 14.749054072098563],
    [1616889600000, 16.56643725364522],
    [1616976000000, 18.008069673329885],
    [1617062400000, 18.884890865843666],
    [1617148800000, 19.175755751876615],
    [1617235200000, 19.48663194355817],
    [1617321600000, 19.05545051591954],
    [1617408000000, 19.73831924627352],
    [1617494400000, 22.598963045163597],
    [1617580800000, 24.02282911560326],
    [1617667200000, 22.942985835974703],
    [1617753600000, 24.989549183579577],
    [1617840000000, 26.674732954277772],
    [1617926400000, 27.00514637240972],
    [1618012800000, 27.784698122914115],
    [1618099200000, 26.833966062021243],
    [1618185600000, 27.817769827309405],
    [1618272000000, 28.523980512399998],
    [1618358400000, 27.569507268014537],
    [1618444800000, 26.451516360520532],
    [1618531200000, 27.82949194313198],
    [1618617600000, 25.280265043287386],
    [1618704000000, 25.01097915337799],
    [1618790400000, 32.43000666656829],
    [1618876800000, 31.72514830005086],
    [1618963200000, 31.687792724714733],
    [1619049600000, 32.31362189326206],
    [1619136000000, 39.04180159309067],
    [1619222400000, 37.066889704359156],
    [1619308800000, 40.74492271990316],
    [1619395200000, 47.66158942345178],
    [1619481600000, 44.4964806617465],
    [1619568000000, 43.21796539788754],
    [1619654400000, 45.039620110247284],
    [1619740800000, 42.5819452001649],
    [1619827200000, 42.995296352215185],
    [1619913600000, 49.663394135648275],
    [1620000000000, 46.93452854649153],
    [1620086400000, 46.08780894588962],
    [1620172800000, 42.70189409565587],
    [1620259200000, 44.893093488124],
    [1620345600000, 43.43782697098598],
    [1620432000000, 43.072134333542394],
    [1620518400000, 45.68567329638394],
    [1620604800000, 44.35912616018185],
    [1620691200000, 42.96048600238864],
    [1620777600000, 44.72439581889054],
    [1620864000000, 43.62157836926913],
    [1620950400000, 41.109968983538224],
    [1621036800000, 42.87180002955891],
    [1621123200000, 43.46242757015506],
    [1621209600000, 47.17666783643097],
    [1621296000000, 46.861759616729216],
    [1621382400000, 56.202009029292114],
    [1621468800000, 35.758844160586776],
    [1621555200000, 44.52570262534382],
    [1621641600000, 38.43160144697336],
    [1621728000000, 31.614601894528402],
    [1621814400000, 24.76763979126399],
    [1621900800000, 30.98546737051786],
    [1621987200000, 30.00644952590393],
    [1622073600000, 35.65025364482327],
    [1622160000000, 33.659342590355116],
    [1622246400000, 29.021948393257702],
    [1622332800000, 27.55720416292785],
    [1622419200000, 28.562287426658674],
    [1622505600000, 32.66212259787656],
    [1622592000000, 30.985238146398338],
    [1622678400000, 34.18804885530961],
    [1622764800000, 39.70667545056023],
    [1622851200000, 37.59916221822976],
    [1622937600000, 39.340010888406205],
    [1623024000000, 42.2598870528484],
    [1623110400000, 38.19473236980912],
    [1623196800000, 41.41714832962446],
    [1623283200000, 42.07765252553618],
    [1623369600000, 41.205960702125125],
    [1623456000000, 36.09038097242029],
    [1623542400000, 36.568375266883066],
    [1623628800000, 38.820386099134],
    [1623715200000, 39.64405780180996],
    [1623801600000, 39.699499977153316]
];

// Read existing data
const filePath = path.join(__dirname, '..', 'src', 'data', 'sol-historical-data.json');
let data;

try {
    data = JSON.parse(fs.readFileSync(filePath, 'utf8'));
} catch (error) {
    console.error('Error reading existing file:', error);
    process.exit(1);
}

// Update with more comprehensive data (first 100 entries shown)
data.prices = solanaPrices;
data.metadata.data_points = solanaPrices.length;

// Write updated data
fs.writeFileSync(filePath, JSON.stringify(data, null, 2));

console.log(`Updated Solana data with ${solanaPrices.length} data points`);
console.log(`File saved to: ${filePath}`);
